{"version":3,"sources":["assets/js/slot.js"],"names":["$","document","ready","winCounter","$repeatButton","$popupWin","$popupLoose","$galleryItem","$win","$loose","countDownTimer","randomGallerySort","on","e","preventDefault","submitForm","focus","removeClass","text","email","val","emailRegExp","match","addClass","click","trigger","hasClass","$this","addMistakeText","setTimeout","popupHide","seconds","$clock","$startNumber","animate","opacity","clockId","setInterval","clearInterval","popupShow","elem","fadeIn","fadeOut","element","append","empty","clearWinParams","parent","randomNumber","compareRandom","a","b","Math","random","sort"],"mappings":"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","file":"slot.js","sourcesContent":["$(document).ready(function () {\n\n    var winCounter = 0,\n        $repeatButton = $('.repeat-button'),\n        $popupWin = $('#popup'),\n        $popupLoose = $('#popup-warning'),\n        $galleryItem = $('.gallery-item'),\n        $win = $('.win'),\n        $loose = $('.loose');\n\n    countDownTimer();\n    randomGallerySort();\n\n    // -------- EMAIL VALIDATION AND ULOGIN FUNCTIONS\n    $('#email-form').on('submit', function (e) {\n        e.preventDefault();\n        submitForm();\n    });\n\n    $('.email-input').focus(function () {\n        $('.email-input').removeClass('email-input-error');\n        $('.error-text').text('');\n    });\n\n    function submitForm() {\n        var email = $('.email-input').val();\n        var emailRegExp = /[-0-9a-zA-Z.+_]+@[-0-9a-zA-Z.+_]+\\.[a-zA-Z]{2,4}/;\n        if (!email || !email.match(emailRegExp)) {\n            $('.email-input').addClass('email-input-error');\n            $('.error-text').text('Enter your email. Correct format: example@gmail.com');\n            return false;\n        }\n    }\n\n    // ---------------- CUSTOM FUNCTIONS\n    $galleryItem.on({\n        'win': function () {\n            $(this).addClass('right-choice');\n        },\n        'loose': function () {\n            $(this).addClass('wrong-choice');\n        },\n        'cancelLoose': function () {\n            $(this).removeClass('wrong-choice');\n        }\n    });\n\n    $win.click(function () {\n        $(this).trigger('win');\n        winCounter++;\n    });\n\n    $loose.click(function () {\n\n        if (!$(this).hasClass('wrong-choice')) {\n            var $this = $(this);\n            $this.trigger('loose');\n            addMistakeText($this);\n\n            setTimeout(function () {\n                $this.trigger('cancelLoose');\n            }, 2000);\n        }\n    });\n\n    $repeatButton.click(function () {\n        popupHide($popupLoose);\n        randomGallerySort();\n        countDownTimer();\n    });\n\n    function countDownTimer() {\n        var seconds = 60,\n            $clock = $('.clock'),\n            $startNumber = $('.clock p');\n\n        $startNumber.text(\"00:01:00\");\n\n        $clock.animate({ opacity: 1 }, 1750);\n\n        var clockId = setInterval(function () {\n            seconds--;\n\n            if (seconds < 0) {\n                $startNumber.removeClass('timeEnd');\n                clearInterval(clockId);\n                popupShow($popupLoose);\n            }\n            else if (winCounter === 3) {\n                clearInterval(clockId);\n                $startNumber.text(\"00:00:00\");\n                popupShow($popupWin);\n            }\n            else {\n                if (seconds == 10) { $startNumber.addClass('timeEnd') };\n                seconds >= 10 ? $startNumber.text(\"00:00:\" + seconds) : $startNumber.text(\"00:00:0\" + seconds);\n\n            }\n        }, 1000);\n    }\n\n    function popupShow(elem) {\n        elem.fadeIn();\n    }\n\n    function popupHide(elem) {\n        elem.fadeOut();\n    }\n\n    function addMistakeText(elem) {\n        var element = elem;\n\n        element.append('<p>Неверно</p>');\n\n        setTimeout(function () {\n            element.empty();\n        }, 2000);\n    }\n\n    function clearWinParams() {\n        $win.removeClass('right-choice');\n        winCounter = 0;\n    }\n\n    function randomGallerySort() {\n\n        var parent = $('.gallery'),\n            randomNumber = 0.5;\n\n        clearWinParams();\n\n        function compareRandom(a, b) {\n            return Math.random() - randomNumber;\n        }\n\n        $galleryItem.sort(compareRandom);\n\n        parent.append($galleryItem);\n    }\n});"]}